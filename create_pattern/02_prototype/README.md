# 原型模式

## 1、原型模式定义

用一个已经创建的实例作为原型，通过复制该原型对象来创建一个和原型相同或相似的新的对象。

## 2、原型模式的特点

原型模式的优点

> 可以**使用深克隆方式保存对象的状态**，使用原型模式将对复制一份，并将其状态保存起来，简化创建对象的过程。

原型模式的缺点

> **需要为每一类都配置一个 clone 方法**
> 
> clone方法位于类内部，当对已有类进行改造的时候，需要修改代码，违背了开闭原则。
>
> **当实现深克隆时，需要编写较为复杂的代码。**
> 

## 3、原型模式实现

原型模式包含以下主要角色

> **抽象原型类**：规定了具体原型对象必须实现的接口。
>
> **具体原型类**：实现抽象原型类的 clone() 方法，它是可被复制的对象。
>
>
> **访问类**：使用具体原型类中的 clone() 方法来复制新的对象。

原型模式的克隆分为浅克隆和深克隆

> **浅克隆**：创建一个新对象，新对象的属性和原来对象完全相同，对于非基本类型属性，仍指向原有属性所指向的对象的内存地址。
>
> **深克隆**：创建一个新对象，属性中引用的其他对象也会被克隆，不再指向原有对象地址。
> 